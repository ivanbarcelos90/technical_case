
<html>
    <body>
        <title>Análise</title>
        <p><font size="6.5"> Resposta das questões para o case Tecnico da DadoEsfera!<br></font>      
       <br><br>

       <font size="4"> 
       Para esse case tecnico foi recebido dados em formato json.<br>
       Logo, opós análises dos dados brutos, optei enviar os dados para um banco de dados local (SQL Server).<br>
       Para tal, verifiquei o tipo de dados de cada coluna para criar a tabela que receberia os dados.
       <br>
       <br>
       Criei o arquivo environment.py, apenas para criação do ambiente e envio dos dados.<br>
       Contudo, devido ao estado que estava os dados brutos, foi necessário tratar os dados e assim envia-los para 
       o banco.
       <br>
       <br>
       Utilizei a biblioteca pyodbc para fazer a conexão com o banco e criar as databases e tabelas e o pandas para<br>
       criar os dataframe com os dados e envia-los para o banco.
       <br>
       <br>
       Com os dados dispoíveis no banco, usei a IDE Azure Data Studio para desenvolver as queries que iriam buscar<br>
       as informações desejadas.<br>
       Com as queries prontas para cada questão, criei o arquivo result.py, onde utilizei o pandas para executar as<br>
       queries e armazena-las em dataframes de todas as questões.<br>
       Esses dataframes disponizados em uma string para apresentação em formato .html.
       <br>
       <br>
       Para as questões 3 e 4, foi necessário utilizar a biblioteca matplotlib, reponsável por utilizar os 
       dataframes e visualiza-los em gráficos de histograma e série temporal.
       <br>
       <br>
       Para questão bonus do mapa interativo, criei o arquivo iterative_map.py para criar o mapa interativo <br>
       em html. Foi utilizado a biblioteca folium para essa questão. 
       <br>
       <br>
       Abaixo demonstra as questões e suas respectivas respostas:
       <br>
       <br>
       <br>        
       </font>

       <font size="5"> Questão 1 <br></font>
       <br>      
       <font size="4"> Foi requerido a distância média que é percorrida por viagens com no máximo 2 passageiros.<br>
       De acordo com os dados, estima-se que a média é de 2.66 km por viagem. <br></font>
       <br>
       <br>
       <font size="5"> Questão 2 <br></font>
       <br>
       <font size="4"> Foi requerido os 3 maiores "Vendors" no quesito "quantidade total de dinheiro arrecadado"<br>
       E de acordo com os dados da tabela, percebe-se que CMT segue em primeiro com o maior dinheiro arrecado,<br> 
       seguido de VTS e DDS.
       abaixo: <br></font>
       <br>
       <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Vendors</th>
      <th>Total_Amount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CMT</td>
      <td>18680732</td>
    </tr>
    <tr>
      <th>1</th>
      <td>VTS</td>
      <td>18209836</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DDS</td>
      <td>2601728</td>
    </tr>
  </tbody>
</table>
       <br>
       <font size="5"> Questão 3 <br></font>
       <br>
       <font size="4"> Foi requerido nessa questão uma distribuição mensal das corridas pagas em dinheiro<br> 
       de taxi na cidade de Nova York para os anos de 2009-2012. <br>
       Com o gráfico de distribuição mensal é possível perceber que o período de férias no final do ano <br>
       indicou um aumento dos pagamentos com dinheiro, devido ao aumento de turistas nessa época do ano.</font>      
       <br><br>
       <img src=C:\PersonalProjects\technical_case\source_code\graph\hist.png></img>
       <br>
       <br>
       <font size="5"> Questão 4 <br></font>
       <br>
       <font size="4"> Foi requeido um gráfico de série temporal contendo a quantidade de gorjetas de cada dia,
       nos últimos 3 meses de 2012.<br>
       Logo, pode-se observar que a quantidade de gorjetas por dia, variou entre 3200 e 3500 gorjetas nos últimos
       3 meses de 2012.
       <br><br>       
       <img src=C:\PersonalProjects\technical_case\source_code\graph\time_series.png></img>
       <br>  
       <font size="5"> Questão Bonus 1 <br></font>
       <br>
       <font size="4"> Foi requerido o tempo médio das corridas nos dias de sábado e domingo. 
       Os dados sujerem que o tempo médio gasto nas corridas nos final de semana varia em torno de 8 minutos.
       <br>
       <br>  
       <br>
       <br>
       <br>
       <br>
       </p>   
    </body>
</html>
